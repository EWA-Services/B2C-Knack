function hide_error(){$(".error-message-custom").remove()}function calculate_withdrawable(b,c,d){var a=new Date,e=a.getDate()-1,f=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return(b*e/f-c)*d}function display_message(a){if(!1==a.status){var b=a.error;$(".error-message-custom").remove(),$(".validation-message-custom").remove(),a.display&&$("<div class='error-message-custom'><strong>"+b+"</strong></div>").insertBefore($(a.position))}!0==a.status?($(".error-message-custom").remove(),$(".validation-message-custom").remove(),$("<div class='validation-message-custom'><strong>All inputs are correct</strong></div>").insertBefore($("#view_133 form > ul")),$("#view_133 form button.submission").prop("disabled",!1),$(".proceed-tip").prop("disabled",!1)):($("#view_133 form button.submission").prop("disabled",!0),$(".proceed-tip").prop("disabled",!0))}amount_requested_checks=function(A,a,h,e,b,m,c,n,d){var f=h;if("-"==e)var o=!1;else{var w=new Date(b.split("/")[2],b.split("/")[1]-1,b.split("/")[0]),x=new Date(e.split("/")[2],e.split("/")[1]-1,e.split("/")[0]),p=new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate()),i=w;i.setDate(i.getDate()-n);var o=p>=i&&p<=x}var q={};$("#view_66 .kn-report-content table tbody tr").each(function(){var a=$(this).find(".kn-pivot-group").text().trim(),b=parseInt($(this).find(".kn-pivot-calc:eq(1)").text().trim());q[a]=b});var j=0;for(var k of Object.keys(q))if(new Date(2022,k.split("/")[1]-1,k.split("/")[0])>new Date(b.split("/")[2],b.split("/")[1]-1,b.split("/")[0]))var j=j+q[k];if(f<a)var r=!1;else var r=!0;if(h>0)var l=c>0&&c>=a&&c<=f;else var l=c>0&&c>=a;if($("#view_133 #kn-input-field_142 input").is(":checked"))var s=!0;else var s=!1;if(""==$("#view_133-field_119").jSignature("getData","base30")[1].trim())var t=!1;else var t=!0;var g={};$("#view_147 table tbody tr").each(function(){var a=$(this).find(".kn-pivot-group span").attr("class"),b=parseInt($(this).find(".kn-pivot-calc").text().trim());g[a]=b});var y=0==g["collection-failed"]&&0==g["collection-failed-re"]&&0==g["not-paid"]&&0==g["partially-paid"],z=new Date(d.split("/")[2],d.split("/")[1]-1,d.split("/")[0])>new Date;if(void 0==$('#view_133 input[name="view_133-field_152"]:checked').val())var u=!1,v=!1;else var u=!0,v=!("yes"==$('#view_133 input[name="view_133-field_152"]:checked').val().toLowerCase().trim()&&0==$("#view_133 #kn-input-field_153 input").val().length);return!1==y?{status:!1,display:!0,error:"Please pay back the advance you have received to be able to submit a new request.",position:"#view_133 form > ul"}:!1==o?{status:!1,display:!0,error:"Salary advances are only available starting "+n+" days before your next payday. Please come back later.",position:"#view_133 form > ul"}:!1==(m<=0||j<m)?{status:!1,display:!0,error:"You have reached the maximum number of advance requests for this month. You can request a new advance after you received your next salary.",position:"#view_133 form > ul"}:!1==r?{status:!1,display:!0,error:"The remaining balance ("+(Math.round(100*f)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+") is lower than the minimum withdrawal amount allowed ("+(Math.round(100*a)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+")",position:"#view_133 form > ul"}:!1==l&&h>0?{status:!1,display:!0,error:"Please provide an amount between "+(Math.round(100*a)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" and "+(Math.round(100*f)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),position:"#view_133 form > ul"}:!1==l?{status:!1,display:!0,error:"Please provide an amount greater than "+(Math.round(100*a)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),position:"#view_133 form > ul"}:!1==(""!=d)?{status:!1,display:!0,error:"Please provide your next payday to proceed",position:"#view_133 form #kn-input-field_151 > label.kn-label"}:!1==z?{status:!1,display:""!=d,error:"Please make sure the payday you selected is in the future",position:"#view_133 form #kn-input-field_151 > label.kn-label"}:!1==u?{status:!1,display:!0,error:"Please tell us whether or not your employer changed before proceeding",position:"#view_133 form #kn-input-field_152"}:!1==v?{status:!1,display:!0,error:"Please fill in the name of your new employer to proceed",position:"#view_133 form #kn-input-field_153"}:!1==s?{status:!1,display:!0,error:"Please accept the terms & conditions to proceed",position:"#view_133 form #kn-input-field_142 > label"}:!1==t?{status:!1,display:!$("#kn-input-field_141 input").is(":focus"),error:"Please sign the form to proceed",position:"#view_133 form #kn-input-field_119"}:{status:!0}};var initial_tnc_clause=$("#view_133 #kn-input-field_142 .control > label span.terms-and-conditions").html();$("#view_133 #field_18").prop("type","number"),$("#view_148, #view_150, #view_151, #view_152").wrapAll("<div id='tipping-feature-wrapper'></div>"),$("#tipping-feature-wrapper").insertBefore("#view_133 .kn-submit"),$("#kn-input-field_126 .kn-radio .control:lt(3)").wrapAll('<div class="tip-box"></div>'),$("#kn-input-field_126").insertAfter("#view_148"),$(".view_133 form #kn-input-field_126 .tip-box .control").each(function(){$("<span class='tip-amount'>\u0E3F0</span>").insertAfter($(this).find("label"))}),$(".view_133 form #field_18").attr("placeholder","Amount"),$(".view_133 form #field_80").attr("placeholder","Withdrawal Remark");var currency=$("#view_64 .field_122 .kn-detail-body").text(),normal_fee_setting=parseFloat(""==$("#view_64 .field_93 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_93 .kn-detail-body").text().replace(/,/g,"")),fast_fee_setting=parseFloat(""==$("#view_64 .field_94 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_94 .kn-detail-body").text().replace(/,/g,"")),cutoff_fee_setting=parseFloat(""==$("#view_64 .field_120 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_120 .kn-detail-body").text().replace(/,/g,"")),normal_withdrawal_speed=$("#view_64 .field_96 .kn-detail-body").text(),fast_withdrawal_speed=$("#view_64 .field_97 .kn-detail-body").text(),cutoff_withdrawal_speed=$("#view_64 .field_121 .kn-detail-body").text();if(0==normal_fee_setting)var normal_fee_message="There is no service fee";else var normal_fee_message="There is a fee of "+normal_fee_setting+" "+currency+" per disbursement";if(0==fast_fee_setting)var fast_fee_message="There is no service fee";else var fast_fee_message="There is a fee of "+fast_fee_setting+" "+currency+" per disbursement";if(0==cutoff_fee_setting)var cutoff_fee_message="There is no service fee";else var cutoff_fee_message="There is a fee of "+cutoff_fee_setting+" "+currency+" per disbursement";$(".view_133 form #kn-input-field_92.kn-input .kn-radio .control").each(function(){let a=$(this).find(".option.radio div"),e=$(a).text().trim().split("-");if($(a).attr("class").toLowerCase().indexOf("normal")> -1){$(this).addClass("selected");var b=normal_fee_message,c=normal_withdrawal_speed.trim(),d="normal"}else if($(a).attr("class").toLowerCase().indexOf("fast")> -1)var b=fast_fee_message,c=fast_withdrawal_speed.trim(),d="fast";else var b=cutoff_fee_message,c=cutoff_withdrawal_speed.trim(),d="cutoff";let f=`
      <div class='${d}'>
          <span class='widthdrawl-radio'>
              <span class='wr-title'>${e[0]}</span>
              <span class='wr-desc'>${e[1].replace("{withdrawal_fee}",b).replace("{withdrawal_speed}",c)}</span>
          </span>
      </div>
  `;$(a).html(f)}),$("div.fast").parents("label").find("input").attr("disabled",!0),$(".view_133 form #kn-input-field_126.kn-input .kn-radio .control").each(function(){let a=$(this).find(".option.radio div");$(a).text().toLowerCase().indexOf("15%")> -1&&$(this).addClass("selected")}),$(".view_133 form #kn-input-field_152 .kn-radio .control input").each(function(){$(this).prop("checked",!1)}),$(".view_133 form #kn-input-field_126 .kn-radio input[type=radio][name=view_133-field_126]").change(function(a){$(".view_133 form #kn-input-field_126 .kn-radio input").each(function(){$(this).closest(".control").removeClass("selected")}),$(a.target).closest(".control").hasClass("selected")||$(a.target).closest(".control").addClass("selected"),$("#view_133 div.chosen-amount").replaceWith($('<div class="chosen-amount"></div>')),$("#view_150 .custom-tip-link").show()}),$(document).on("knack-form-submit.view_133",function(a,b,c){$(".error-message-custom").remove(),$(".validation-message-custom").remove()}),$("#view_133 form .kn-submit .kn-button.is-primary").prop("disabled",!0),$("#view_133 form button.submission").prop("disabled",!0);var max_number_requests=parseFloat(""==$("#view_64 .field_91 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_91 .kn-detail-body").text().replace(/,/g,"")),input_val=0,cutoff_day=new Date(2025,0,1),payday=new Date(2025,0,1),months=$("#view_97 .kn-table tbody td.field_88 span"),cutoffs=$("#view_97 .kn-table tbody td.field_82 span"),paydays=$("#view_97 .kn-table tbody td.field_76 span");if($.each(months,function(a,d){var b=new Date(paydays[a].textContent.trim().split("/")[2],paydays[a].textContent.trim().split("/")[1]-1,paydays[a].textContent.trim().split("/")[0]),c=new Date(cutoffs[a].textContent.trim().split("/")[2],cutoffs[a].textContent.trim().split("/")[1]-1,cutoffs[a].textContent.trim().split("/")[0]);b>=new Date&&b<=payday&&(payday=b||"-",cutoff_day=c||"-")}),+payday== +new Date(2025,0,1))var payday="-";else var payday=(10>payday.getDate()?"0"+payday.getDate():payday.getDate())+"/"+(9>payday.getMonth()?"0"+(payday.getMonth()+1):payday.getMonth()+1)+"/"+payday.getFullYear();if(+cutoff_day== +new Date(2025,0,1))var cutoff_day="-";else var cutoff_day=(10>cutoff_day.getDate()?"0"+cutoff_day.getDate():cutoff_day.getDate())+"/"+(9>cutoff_day.getMonth()?"0"+(cutoff_day.getMonth()+1):cutoff_day.getMonth()+1)+"/"+cutoff_day.getFullYear();var ionic_user_id=$("#view_159 .field_150 span span").text(),payday_mode=$("#view_159 .field_167 span span").text(),cutoff_days_param=parseInt($("#view_65 .field_169 .kn-detail-body").text());if("API"==payday_mode.toUpperCase().trim()){var b,c="https://script.google.com/macros/s/AKfycbxjUcslqN__FunFgq7z3DfkTY6HR3xJaQOLkoyP9DsQU403LbeWpaIVoDOv1omX-z7X/exec";if($.ajax({url:c,type:"POST",async:!1,dataType:"json",data:JSON.stringify({apiPath:"requestNextPayday",apiKey:"nYJPMrwQxkNcF_88h4@n",ionicId:ionic_user_id}),success:function(a){console.log("success"),b=a},error:function(b,c,a){console.log("error"),console.log(a)}}),!0==b.success)var payday=b.nextPaydayOptions[0],cutoff_day=payday,cutoff_day=cutoff_day.setDate(cutoff_day.getDate()-cutoff_days_param),payday=payday.split("-")[2]+"/"+payday.split("-")[1]+"/"+payday.split("-")[0],cutoff_day=cutoff_day.split("-")[2]+"/"+cutoff_day.split("-")[1]+"/"+cutoff_day.split("-")[0]}var base_salary=parseFloat(""==$("#view_65 .field_44 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_44 .kn-detail-body").text().replace(/,/g,"")),requested_amount=parseFloat(""==$("#view_66 .kn-pivot-calc:eq(0)").text().replace(/,/g,"")?0:$("#view_66 .kn-pivot-calc:eq(0)").text().replace(/,/g,"")),withdrawable_threshold=parseFloat(""==$("#view_64 .field_89 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_89 .kn-detail-body").text().replace(/,/g,"")),min_allowed_employee=parseFloat(""==$("#view_65 .field_52 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_52 .kn-detail-body").text().replace(/,/g,"")),max_allowed_employee=parseFloat(""==$("#view_65 .field_53 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_53 .kn-detail-body").text().replace(/,/g,"")),days_to_request=parseInt(""==$("#view_65 .field_149 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_149 .kn-detail-body").text().replace(/,/g,"")),min_allowed_company=parseFloat(""==$("#view_64 .field_87 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_87 .kn-detail-body").text().replace(/,/g,"")),max_allowed_company=parseFloat(""==$("#view_64 .field_90 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_90 .kn-detail-body").text().replace(/,/g,""));if(min_allowed_employee>0&&min_allowed_company>0)var min_allowed=Math.max(min_allowed_employee,min_allowed_company);else if(min_allowed_employee>0)var min_allowed=min_allowed_employee;else if(min_allowed_company>0)var min_allowed=min_allowed_company;else var min_allowed=0;if(max_allowed_employee>0&&max_allowed_company>0)var max_allowed=Math.min(max_allowed_employee,max_allowed_company);else if(max_allowed_employee>0)var max_allowed=max_allowed_employee;else if(max_allowed_company>0)var max_allowed=max_allowed_company;else var max_allowed=0;var speed=$('input[name="view_133-field_92"]:checked').val(),next_payday=$("#view_133 form #view_133-field_151").val();if(speed.toLowerCase().indexOf("normal")> -1)var withdrawal_fee=normal_fee_setting;else if(speed.toLowerCase().indexOf("fast")> -1)var withdrawal_fee=fast_fee_setting;else if(speed.toLowerCase().indexOf("cutoff")> -1)var withdrawal_fee=cutoff_fee_setting;$("#view_133 #field_63").attr("value",withdrawal_fee);var available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold),tipping_options=$('input[name="view_133-field_126"]:checked').val();if("<div>5%</div>"==tipping_options.toLowerCase())var tip_perc=.05;else if("<div>10%</div>"==tipping_options.toLowerCase())var tip_perc=.1;else if("<div>15%</div>"==tipping_options.toLowerCase())var tip_perc=.15;else if("<div>20%</div>"==tipping_options.toLowerCase())var tip_perc=.2;else var tip_perc=0;if($("#view_133 #field_127").attr("value",(Math.round(requested_amount*tip_perc*100)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),$("input[type=radio][name=view_133-field_126]").change(function(){$(".modal-wrapper #customTipAmount").val(""),$(".modal-wrapper .check-box-cont input").prop("checked",!1),$(".modal-wrapper .check-box-cont").addClass("hidden");var c=$("#field_18").val(),b=$('input[name="view_133-field_126"]:checked').val();if("<div>5%</div>"==b.toLowerCase())var a=.05;else if("<div>10%</div>"==b.toLowerCase())var a=.1;else if("<div>15%</div>"==b.toLowerCase())var a=.15;else if("<div>20%</div>"==b.toLowerCase())var a=.2;else var a=0;$("#view_133 #field_127").attr("value",(c*a).toFixed(2)),$("#view_133 #kn-input-field_154 input").val(a)}),max_allowed>0){var a=max_allowed;if(a>=min_allowed)var request_amount='<span class="amount-info-message">Amount should be between <span>\u0E3F'+(Math.round(100*min_allowed)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</span> and <span>\u0E3F"+(Math.round(100*a)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</span></span>";else var request_amount='<span class="amount-info-message">The remaining balance (<span>\u0E3F'+(Math.round(100*a)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</span>) is lower than the minimum withdrawal amount allowed (<span>\u0E3F"+(Math.round(100*min_allowed)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</span>)</span>"}else var request_amount='<span class="amount-info-message">Amount should be greater than <span>\u0E3F'+(Math.round(100*min_allowed)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</span></span>";$(request_amount).insertAfter("#kn-input-field_18 label");var increase_statement=`<div class="information-increase">
                            <span class="material-icons">info</span>
                            <span class="text-info">Your limit will gradually increase up to <b>฿4,000</b> if you pay back your salary advance on time every month.</span>
                          </div>`;$(increase_statement).insertAfter("#view_133 #field_18"),$("input[type=radio][name=view_133-field_92]").change(function(){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var d=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(d)}),$("#view_133 form #view_133-field_151").change(function(){var c=$("#field_18").val(),b=$('input[name="view_133-field_92"]:checked').val(),a=$("#view_133 form #view_133-field_151").val();$("#kn-input-field_141 input").val(""),""!=a&&new Date(a.split("/")[2],a.split("/")[1]-1,a.split("/")[0])>new Date?$("#view_133 #kn-input-field_142").show():$("#view_133 #kn-input-field_142").hide();var d=initial_tnc_clause.replace("{next_payday}",a);$("#view_133 #kn-input-field_142 .control > label span.terms-and-conditions").replaceWith('<span class="terms-and-conditions">'+d+"</span>"),b.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:b.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:b.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var e=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,c,days_to_request,a);display_message(e)}),$("input#field_18").on("input",function(g){var d=$(this).val(),c=$('input[name="view_133-field_92"]:checked').val(),e=$("#view_133 form #view_133-field_151").val();c.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:c.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:c.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var f=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,d,days_to_request,e);display_message(f),$(".view_133 form #kn-input-field_126 .tip-box .control").each(function(){var a=$(this).find("label div").text().replace("%","")/100;$(this).find("span.tip-amount").text("\u0E3F"+(Math.round(100*(a*d))/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))});var b=$('input[name="view_133-field_126"]:checked').val();if("<div>5%</div>"==b.toLowerCase())var a=.05;else if("<div>10%</div>"==b.toLowerCase())var a=.1;else if("<div>15%</div>"==b.toLowerCase())var a=.15;else if("<div>20%</div>"==b.toLowerCase())var a=.2;else var a=0;$("#view_133 #field_127").attr("value",(d*a).toFixed(2)),$("#view_133 #kn-input-field_154 input").val(a)}),$("#view_133 #kn-input-field_141 input").on("input",function(e){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var d=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(d)}),$("#view_133 #kn-input-field_153 input").on("input",function(e){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var d=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(d)}),$("#view_133 #kn-input-field_142 input").change(function(){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var d=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(d)}),$("#view_133-field_119").change(function(){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var d=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(d)}),$("input[type=radio][name=view_133-field_152]").change(function(){var b=$("#field_18").val(),a=$('input[name="view_133-field_92"]:checked').val(),c=$("#view_133 form #view_133-field_151").val();a.toLowerCase().indexOf("normal")> -1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")> -1?withdrawal_fee=fast_fee_setting:a.toLowerCase().indexOf("cutoff")> -1&&(withdrawal_fee=cutoff_fee_setting);var d=$('#view_133 input[name="view_133-field_152"]:checked').val();"yes"==d.toLowerCase().trim()?$("#view_133 #kn-input-field_153").show():$("#view_133 #kn-input-field_153").hide(),$("#view_133 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var e=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,payday,max_number_requests,b,days_to_request,c);display_message(e)}),$('<button class="back-tip hidden">Back</button><button class="submission hidden">Submit</button>').insertBefore($("#view_133 .kn-submit")),$("#kn-input-field_126 .kn-radio .tip-box div.control:nth-child(2)").addClass("popular"),$("#kn-input-field_126 .kn-radio .tip-box div.control:nth-child(2)").append('<span class="popular-tag">Popular</span>'),proceed_tip_screen=function(){$("#view_148").css({visibility:"unset",position:"unset"}),$("#view_150").css({visibility:"unset",position:"unset"}),$("#view_151").css({visibility:"unset",position:"unset"}),$("#view_153").css({visibility:"hidden",position:"absolute"}),$("#view_133 .back-tip").removeClass("hidden"),$("#kn-input-field_18").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_59").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_92").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_92").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_126").css({visibility:"unset",position:"unset"}),$("#kn-input-field_80").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_142").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_151").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_152").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_153").css({visibility:"hidden",position:"absolute"}),$(".sc-instructions").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_18").css({visibility:"hidden",position:"absolute"}),$("#view_133-field_119").css({visibility:"hidden",position:"absolute"}),$("#view_133 button.submission").css({visibility:"unset",position:"unset"}),$("#kn-input-field_18").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_59").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_92").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_80").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_142").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_141").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_119").css({visibility:"hidden",position:"absolute"}),$(".validation-message-custom").remove()},$("#view_153 .proceed-tip").on("click",proceed_tip_screen),back_tip_screen=function(){$("#view_148").css({visibility:"hidden",position:"absolute"}),$("#view_150").css({visibility:"hidden",position:"absolute"}),$("#view_151").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_153").css({visibility:"unset",position:"unset"}),$("#view_133 .back-tip").addClass("hidden"),$("#kn-input-field_18").css({visibility:"unset",position:"unset"}),$("#kn-input-field_59").css({visibility:"unset",position:"unset"}),$("#kn-input-field_92").css({visibility:"unset",position:"unset"}),$("#kn-input-field_92").css({visibility:"unset",position:"unset"}),$("#kn-input-field_126").css({visibility:"hidden",position:"absolute"}),$("#kn-input-field_80").css({visibility:"unset",position:"unset"}),$("#kn-input-field_142").css({visibility:"unset",position:"unset"}),$("#kn-input-field_151").css({visibility:"unset",position:"unset"}),$("#kn-input-field_152").css({visibility:"unset",position:"unset"}),$(".sc-instructions").css({visibility:"unset",position:"unset"}),$("#kn-input-field_18").css({visibility:"unset",position:"unset"}),$("#view_133-field_119").css({visibility:"unset",position:"unset"}),$("#view_133 button.submission").css({visibility:"hidden",position:"absolute"}),$("#view_153").css({visibility:"unset",position:"unset"}),$("#kn-input-field_18").css({visibility:"unset",position:"unset"}),$("#kn-input-field_59").css({visibility:"unset",position:"unset"}),$("#kn-input-field_92").css({visibility:"unset",position:"unset"}),$("#kn-input-field_80").css({visibility:"unset",position:"unset"}),$("#kn-input-field_142").css({visibility:"unset",position:"unset"}),$("#kn-input-field_141").css({visibility:"unset",position:"unset"}),$("#kn-input-field_119").css({visibility:"unset",position:"unset"})},$("#view_133 .back-tip").on("click",back_tip_screen),submission_fun=function(){$("#view_133 .kn-submit .kn-button.is-primary").prop("disabled",!1),$("#view_133 .kn-submit .kn-button.is-primary").click()},$("#view_133 button.submission").on("click",submission_fun),$(".modal-wrapper").click(function(){$(this).toggleClass("hidden")}),$(".modal-wrapper .modal").click(a=>a.stopPropagation()),$(".custom-tip-link").click(()=>{$(".modal-wrapper #customTipAmount").val("5"),$(".modal-wrapper").toggleClass("hidden")}),$(".ftr-btn.cancel").click(()=>{$(".modal-wrapper").toggleClass("hidden"),$(".modal-wrapper #customTipAmount").val(""),$(".modal-wrapper .check-box-cont input").prop("checked",!1),$(".modal-wrapper .check-box-cont").addClass("hidden")}),$(".modal-wrapper .check-box-cont > input").change(function(){""==$(".modal-wrapper #customTipAmount").val()?($(".modal-wrapper .check-box-cont").addClass("hidden"),$(".modal-wrapper #ftr-btn-submit").prop("disabled",!0)):0==$(".modal-wrapper #customTipAmount").val()?($(".modal-wrapper #ftr-btn-submit").prop("disabled",!0),$(".modal-wrapper .check-box-cont").removeClass("hidden"),$(".modal-wrapper #confirmationCheck").is(":checked")&&$(".modal-wrapper #ftr-btn-submit").prop("disabled",!1)):($(".modal-wrapper .check-box-cont").addClass("hidden"),$(".modal-wrapper #ftr-btn-submit").prop("disabled",!1))}),$(".modal-wrapper #customTipAmount").on("input",function(a){""==$(this).val()?($(".modal-wrapper .check-box-cont").addClass("hidden"),$(".modal-wrapper #ftr-btn-submit").prop("disabled",!0)):0==$(this).val()?($(".modal-wrapper #ftr-btn-submit").prop("disabled",!0),$(".modal-wrapper .check-box-cont").removeClass("hidden"),$(".modal-wrapper #confirmationCheck").is(":checked")&&$(".modal-wrapper #ftr-btn-submit").prop("disabled",!1)):($(".modal-wrapper .check-box-cont").addClass("hidden"),$(".modal-wrapper #ftr-btn-submit").prop("disabled",!1))}),$("#ftr-btn-submit").click(()=>{$("#kn-input-field_126 input[name='view_133-field_126']").prop("checked",!1);let a=$("#customTipAmount").val();var b=$("#field_18").val();$("#view_133 #kn-input-field_154 input").val(a/100),$("#view_133 #field_127").attr("value",(b*a/100).toFixed(2)),$(".modal-wrapper").toggleClass("hidden"),$(".tip-box").find(".control").each(function(){$(this).removeClass("selected")}),$("#view_133 div.chosen-amount").replaceWith($('<div class="chosen-amount"><button class="custom-tip-btn">Custom Tip Percentage - <span id="custom-tip-value">'+a+"%</span></button></div>")),$("#view_150 .custom-tip-link").hide(),$(".custom-tip-btn").click(()=>{$(".modal-wrapper #ftr-btn-submit").prop("disabled",!0),$(".modal-wrapper").toggleClass("hidden"),$(".modal-wrapper #customTipAmount").val(100*$("#view_133 #kn-input-field_154 input").val())}),$(".modal-wrapper #customTipAmount").val(""),$(".modal-wrapper .check-box-cont input").prop("checked",!1),$(".modal-wrapper .check-box-cont").addClass("hidden")}),$("#kn-input-field_126 div.control").click(function(){$(this).closest("input[name='view_133-field_126']").prop("checked",!0)})